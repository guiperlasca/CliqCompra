@startuml

class Usuario {
  +id: int
  +nome: String
  +email: String
  +senha: String
  +fazerLogin(): void
  +fazerLogout(): void
}

class Cliente {
  +cpf: String
  +telefone: String
  +adicionarEndereco(Endereco): void
  +realizarPedido(Pedido): void
}

class Vendedor {
  +cnpj: String
  +nomeFantasia: String
  +adicionarProduto(Produto): void
  +visualizarPedidos(): List<Pedido>
}

class Carrinho {
  +id: int
  +dataCriação: Date
  +adicionarItem(ItemCarrinho): void
  +removerItem(ItemCarrinho): void
  +calcularTotal(): double
}

class ItemCarrinho {
  +id: int
  +quantidade: int
  +preçoUnitário: double
  +calcularSubtotal(): double
}

class Produto {
  +id: int
  +nome: String
  +descrição: String
  +preço: double
  +estoque: int
  +atualizarEstoque(int): void
}

class Categoria {
  +id: int
  +nome: String
  +obterProdutos(): List<Produto>
}

class Pedido {
  +id: int
  +dataPedido: Date
  +valorTotal: double
  +status: StatusPedido
  +atualizarStatus(StatusPedido): void
  +calcularTotal(): double
}

class ItemPedido {
  +id: int
  +quantidade: int
  +preçoUnitário: double
  +calcularSubtotal(): double
}

class Endereço {
' Changed to Endereço
  +id: int
  +logradouro: String
  +numero: String
  +complemento: String
  +bairro: String
  +cidade: String
  +estado: String
  +cep: String
}

class Pagamento {
  +id: int
  +valor: double
  +dataPagamento: Date
  +status: StatusPagamento
  +realizarPagamento(): boolean
  +reembolsar(): boolean
}

class PagamentoBoleto {
  +códigoDeBarras: String
  +dataDeVencimento: Date
  +gerarBoleto(): void
}

class PagamentoCartao {
  +númeroCartão: String
  +nomeTitular: String
  +dataDeValidade: String
  +cvv: String
  +processarPagamento(): boolean
}

enum StatusPagamento {
  PENDENTE
  APROVADO
  REPROVADO
  REEMBOLSADO
}

enum StatusPedido {
  AGUARDANDO_PAGAMENTO
  EM_PROCESSAMENTO
  ENVIADO
  ENTREGUE
  CANCELADO
}

' Relationships
Usuario <|-- Cliente
Usuario <|-- Vendedor

Pagamento <|-- PagamentoBoleto
Pagamento <|-- PagamentoCartao

Usuario "1" -- "1" Carrinho : possui
Usuario "1" -- "0..*" Produto : cadastra/visualiza
Cliente "1" -- "1..*" Endereço : possui
' Changed to Endereço
Cliente "1" -- "0..*" Pedido : realiza
Pedido "1" -- "1..*" ItemPedido : contém
Pedido "1" -- "1" Endereço : entrega em
' Changed to Endereço
Pedido "1" -- "1" Pagamento : tem
Carrinho "1" -- "0..*" ItemCarrinho : contém
ItemCarrinho "1" -- "1" Produto : refere-se a
ItemPedido "1" -- "1" Produto : refere-se a
Produto "0..*" -- "0..*" Categoria : pertence a

Pedido ..> StatusPedido
Pagamento ..> StatusPagamento

@enduml
